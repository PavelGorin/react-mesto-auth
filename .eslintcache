[{"C:\\Users\\Mi\\project\\mesto-react\\src\\index.js":"1","C:\\Users\\Mi\\project\\mesto-react\\src\\reportWebVitals.js":"2","C:\\Users\\Mi\\project\\mesto-react\\src\\components\\App.js":"3","C:\\Users\\Mi\\project\\mesto-react\\src\\components\\Footer.js":"4","C:\\Users\\Mi\\project\\mesto-react\\src\\components\\Header.js":"5","C:\\Users\\Mi\\project\\mesto-react\\src\\components\\ImagePopup.js":"6","C:\\Users\\Mi\\project\\mesto-react\\src\\components\\PopupWithForm.js":"7","C:\\Users\\Mi\\project\\mesto-react\\src\\components\\Main.js":"8","C:\\Users\\Mi\\project\\mesto-react\\src\\components\\Card.js":"9","C:\\Users\\Mi\\project\\mesto-react\\src\\utils\\api.js":"10","C:\\Users\\Mi\\project\\mesto-react\\src\\contexts\\CurrentUserContext.js":"11","C:\\Users\\Mi\\project\\mesto-react\\src\\components\\EditProfilePopup.js":"12","C:\\Users\\Mi\\project\\mesto-react\\src\\components\\EditAvatarPopup.js":"13","C:\\Users\\Mi\\project\\mesto-react\\src\\components\\AddPlacePopup.js":"14","C:\\Users\\Mi\\project\\react-mesto-auth\\react-mesto-auth\\src\\index.js":"15","C:\\Users\\Mi\\project\\react-mesto-auth\\react-mesto-auth\\src\\reportWebVitals.js":"16","C:\\Users\\Mi\\project\\react-mesto-auth\\react-mesto-auth\\src\\components\\App.js":"17","C:\\Users\\Mi\\project\\react-mesto-auth\\react-mesto-auth\\src\\components\\Header.js":"18","C:\\Users\\Mi\\project\\react-mesto-auth\\react-mesto-auth\\src\\components\\Main.js":"19","C:\\Users\\Mi\\project\\react-mesto-auth\\react-mesto-auth\\src\\components\\Footer.js":"20","C:\\Users\\Mi\\project\\react-mesto-auth\\react-mesto-auth\\src\\components\\PopupWithForm.js":"21","C:\\Users\\Mi\\project\\react-mesto-auth\\react-mesto-auth\\src\\components\\ImagePopup.js":"22","C:\\Users\\Mi\\project\\react-mesto-auth\\react-mesto-auth\\src\\components\\EditProfilePopup.js":"23","C:\\Users\\Mi\\project\\react-mesto-auth\\react-mesto-auth\\src\\components\\Register.js":"24","C:\\Users\\Mi\\project\\react-mesto-auth\\react-mesto-auth\\src\\components\\EditAvatarPopup.js":"25","C:\\Users\\Mi\\project\\react-mesto-auth\\react-mesto-auth\\src\\components\\InfoTooltip.js":"26","C:\\Users\\Mi\\project\\react-mesto-auth\\react-mesto-auth\\src\\components\\AddPlacePopup.js":"27","C:\\Users\\Mi\\project\\react-mesto-auth\\react-mesto-auth\\src\\components\\ProtectedRoute.js":"28","C:\\Users\\Mi\\project\\react-mesto-auth\\react-mesto-auth\\src\\components\\Login.js":"29","C:\\Users\\Mi\\project\\react-mesto-auth\\react-mesto-auth\\src\\contexts\\CurrentUserContext.js":"30","C:\\Users\\Mi\\project\\react-mesto-auth\\react-mesto-auth\\src\\utils\\api.js":"31","C:\\Users\\Mi\\project\\react-mesto-auth\\react-mesto-auth\\src\\components\\Card.js":"32"},{"size":511,"mtime":1612220916390,"results":"33","hashOfConfig":"34"},{"size":362,"mtime":499162500000,"results":"35","hashOfConfig":"34"},{"size":4076,"mtime":1614438283413,"results":"36","hashOfConfig":"34"},{"size":203,"mtime":1612220384357,"results":"37","hashOfConfig":"34"},{"size":329,"mtime":1612220912162,"results":"38","hashOfConfig":"34"},{"size":588,"mtime":1614360155169,"results":"39","hashOfConfig":"34"},{"size":781,"mtime":1614363674039,"results":"40","hashOfConfig":"34"},{"size":1826,"mtime":1614363583225,"results":"41","hashOfConfig":"34"},{"size":1686,"mtime":1614438404251,"results":"42","hashOfConfig":"34"},{"size":2293,"mtime":1614359515405,"results":"43","hashOfConfig":"34"},{"size":117,"mtime":1614363590694,"results":"44","hashOfConfig":"34"},{"size":1730,"mtime":1614363507619,"results":"45","hashOfConfig":"34"},{"size":803,"mtime":1614363516419,"results":"46","hashOfConfig":"34"},{"size":1297,"mtime":1614353629729,"results":"47","hashOfConfig":"34"},{"size":623,"mtime":1615398963512,"results":"48","hashOfConfig":"49"},{"size":362,"mtime":499162500000,"results":"50","hashOfConfig":"49"},{"size":6658,"mtime":1615053698135,"results":"51","hashOfConfig":"49"},{"size":945,"mtime":1614979978376,"results":"52","hashOfConfig":"49"},{"size":1826,"mtime":1614363583225,"results":"53","hashOfConfig":"49"},{"size":203,"mtime":1612220384357,"results":"54","hashOfConfig":"49"},{"size":781,"mtime":1614363674039,"results":"55","hashOfConfig":"49"},{"size":588,"mtime":1614360155169,"results":"56","hashOfConfig":"49"},{"size":1730,"mtime":1614363507619,"results":"57","hashOfConfig":"49"},{"size":1469,"mtime":1614818935743,"results":"58","hashOfConfig":"49"},{"size":803,"mtime":1614363516419,"results":"59","hashOfConfig":"49"},{"size":797,"mtime":1614992165121,"results":"60","hashOfConfig":"49"},{"size":1281,"mtime":1615049823170,"results":"61","hashOfConfig":"49"},{"size":322,"mtime":1614906955136,"results":"62","hashOfConfig":"49"},{"size":1181,"mtime":1614818743602,"results":"63","hashOfConfig":"49"},{"size":117,"mtime":1614363590694,"results":"64","hashOfConfig":"49"},{"size":3633,"mtime":1615053699718,"results":"65","hashOfConfig":"49"},{"size":1686,"mtime":1614438404251,"results":"66","hashOfConfig":"49"},{"filePath":"67","messages":"68","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"69"},"1tvwv66",{"filePath":"70","messages":"71","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"69"},{"filePath":"72","messages":"73","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"74","messages":"75","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"69"},{"filePath":"76","messages":"77","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"69"},{"filePath":"78","messages":"79","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"69"},{"filePath":"80","messages":"81","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"69"},{"filePath":"82","messages":"83","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"69"},{"filePath":"84","messages":"85","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"86","messages":"87","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"69"},{"filePath":"88","messages":"89","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"69"},{"filePath":"90","messages":"91","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"69"},{"filePath":"92","messages":"93","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"69"},{"filePath":"94","messages":"95","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"69"},{"filePath":"96","messages":"97","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"98"},"a54xob",{"filePath":"99","messages":"100","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"98"},{"filePath":"101","messages":"102","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"103","usedDeprecatedRules":"98"},{"filePath":"104","messages":"105","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"98"},{"filePath":"106","messages":"107","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"98"},{"filePath":"108","messages":"109","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"98"},{"filePath":"110","messages":"111","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"98"},{"filePath":"112","messages":"113","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"98"},{"filePath":"114","messages":"115","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"98"},{"filePath":"116","messages":"117","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"98"},{"filePath":"118","messages":"119","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"98"},{"filePath":"120","messages":"121","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"98"},{"filePath":"122","messages":"123","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"98"},{"filePath":"124","messages":"125","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"98"},{"filePath":"126","messages":"127","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"98"},{"filePath":"128","messages":"129","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"98"},{"filePath":"130","messages":"131","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"98"},{"filePath":"132","messages":"133","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"C:\\Users\\Mi\\project\\mesto-react\\src\\index.js",[],["134","135"],"C:\\Users\\Mi\\project\\mesto-react\\src\\reportWebVitals.js",[],"C:\\Users\\Mi\\project\\mesto-react\\src\\components\\App.js",[],"C:\\Users\\Mi\\project\\mesto-react\\src\\components\\Footer.js",[],"C:\\Users\\Mi\\project\\mesto-react\\src\\components\\Header.js",[],"C:\\Users\\Mi\\project\\mesto-react\\src\\components\\ImagePopup.js",[],"C:\\Users\\Mi\\project\\mesto-react\\src\\components\\PopupWithForm.js",[],"C:\\Users\\Mi\\project\\mesto-react\\src\\components\\Main.js",[],"C:\\Users\\Mi\\project\\mesto-react\\src\\components\\Card.js",[],"C:\\Users\\Mi\\project\\mesto-react\\src\\utils\\api.js",[],"C:\\Users\\Mi\\project\\mesto-react\\src\\contexts\\CurrentUserContext.js",[],"C:\\Users\\Mi\\project\\mesto-react\\src\\components\\EditProfilePopup.js",[],"C:\\Users\\Mi\\project\\mesto-react\\src\\components\\EditAvatarPopup.js",[],"C:\\Users\\Mi\\project\\mesto-react\\src\\components\\AddPlacePopup.js",[],"C:\\Users\\Mi\\project\\react-mesto-auth\\react-mesto-auth\\src\\index.js",[],["136","137"],"C:\\Users\\Mi\\project\\react-mesto-auth\\react-mesto-auth\\src\\reportWebVitals.js",[],"C:\\Users\\Mi\\project\\react-mesto-auth\\react-mesto-auth\\src\\components\\App.js",["138"],"import Header from './Header';\nimport Footer from './Footer';\nimport Main from './Main';\nimport PopupWithForm from './PopupWithForm';\nimport ImagePopup from './ImagePopup';\nimport { useState, useEffect } from \"react\";\nimport api from '../utils/api';\nimport CurrentUserContext from '../contexts/CurrentUserContext';\nimport EditProfilePopup from './EditProfilePopup';\nimport AddPlacePopup from './AddPlacePopup';\nimport EditAvatarPopup from './EditAvatarPopup';\nimport '../index.css';\nimport { Route, Switch, useHistory } from \"react-router-dom\";\nimport InfoTooltip from './InfoTooltip';\nimport ProtectedRoute from './ProtectedRoute';\nimport Login from './Login';\nimport Register from './Register';\n\nfunction App() {\n\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false);\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = useState(false);\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = useState(false);\n  const [currentUser, setCurrentUser] = useState([]);\n  const [cards, setCards] = useState([]);\n  const [selectedCard, setSelectedCard] = useState(false);\n  const [isInfoTooltipOpened, setIsInfoTooltipOpened] = useState(false)\n  const [loggedIn, setLoggedIn] = useState(null);\n  const [registerStatus, setRegisterStatus] = useState(false)\n  const [registerState, setRegisterState] = useState(false);\n  const [userName, setUsername] = useState('')\n  const history = useHistory();\n\n\n  function handleEditAvatarClick() {\n    setIsEditAvatarPopupOpen(true);\n  }\n\n  function handleEditProfileClick() {\n    setIsEditProfilePopupOpen(true);\n  }\n\n  function handleAddPlaceClick() {\n    setIsAddPlacePopupOpen(true);\n  }\n  function handleSetRegisterState() {\n    setRegisterState(!registerState);\n  }\n\n  function closeAllPopups() {\n    setIsEditAvatarPopupOpen(false);\n    setIsEditProfilePopupOpen(false);\n    setIsAddPlacePopupOpen(false);\n    setSelectedCard(false);\n    setIsInfoTooltipOpened(false);\n  }\n\n  function handleCardClick(props) {\n    setSelectedCard(props);\n  }\n\n  function handleUpdateUser(data) {\n    api.setUserInfo(data.name, data.about)\n      .then((res) => {\n        setCurrentUser(res);\n        closeAllPopups();\n      })\n      .catch((err) => { console.log(err) })\n  }\n\n  function handleUpdateAvatar(data) {\n    api.updateAvatar(data.avatar)\n      .then((res) => {\n        setCurrentUser(res);\n        closeAllPopups();\n      })\n      .catch((err) => { console.log(err) });\n  }\n\n  function handleAddPlaceSubmit(name, link) {\n    api.sendNewCard(name, link)\n      .then((newCard) => {\n        setCards([newCard, ...cards]);\n        closeAllPopups();\n      })\n      .catch((err) => { console.log(err) });\n  }\n\n  useEffect(() => {\n    Promise.all([api.getUserData(), api.getInitialCards()])\n      .then(([user, initialCards]) => {\n        setCurrentUser(user);\n        setCards(initialCards);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }, []);\n\n  function handleCardLike(card) {\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\n    if (!isLiked) {\n      api.setLike(card._id).then((newCard) => {\n        const newCards = cards.map((c) => c._id === card._id ? newCard : c);\n        setCards(newCards);\n      })\n        .catch((err) => { console.log(err) });\n    } else {\n      api.removeLike(card._id).then((newCard) => {\n        const newCards = cards.map((c) => c._id === card._id ? newCard : c);\n        setCards(newCards);\n      })\n        .catch((err) => { console.log(err) });\n    }\n\n  }\n\n  function handleCardDelete(card) {\n    api.deleteCard(card._id)\n      .then(() => {\n        const newCards = cards.filter((c) => c._id !== card._id);\n        setCards(newCards);\n      })\n      .catch((err) => {\n        console.log(`Ошибка: ${err}`);\n      });\n  }\n\n  function handleRegister(data) {\n    api.registration(data)\n      .then((res) => {\n        setIsInfoTooltipOpened(true);\n        setRegisterStatus(true);\n        history.push('/sign-in');\n        setRegisterState(false);\n      })\n      .catch((err) => {\n        setIsInfoTooltipOpened(true);\n        setRegisterStatus(false);\n        setRegisterState(true);\n        console.log(err);\n      })\n  }\n  function handleLogin(data) {\n    api.login(data)\n      .then((res) => {\n          localStorage.setItem('jwt', res.token);\n          setLoggedIn(true);\n          setUsername(data.email);\n          history.push('/');\n      })\n      .catch((err) => {\n        setLoggedIn(false);\n        setIsInfoTooltipOpened(true);\n        setRegisterStatus(false);\n        setRegisterState(false);\n        console.log(err);\n      })\n  }\n\n  function handleLogout() {\n    localStorage.removeItem('jwt');\n    setLoggedIn(false);\n  }\n\n  function handleTokenCheck(jwt) {\n    api.checkToken(jwt)\n      .then((res) => {\n        setUsername(res.data.email)\n        if (res) {\n          setLoggedIn(true);\n          history.push('/');\n        }\n      })\n      .catch((err) => {\n        console.log(err);\n      })\n  }\n\n  useEffect(() => {\n    const jwt = localStorage.getItem('jwt');\n    if (jwt) {\n      handleTokenCheck(jwt);\n\n    }\n  }, [handleTokenCheck]);\n\n  return (\n    <div className=\"noclassyet\">\n      <CurrentUserContext.Provider value={currentUser}>\n        <Header userName={userName} handleLogout={handleLogout} handleRegisterState={handleSetRegisterState} registerState={registerState} state={loggedIn} />\n\n        <Switch>\n          <ProtectedRoute exact path='/' component={Main} loggedIn={loggedIn} cards={cards} onCardLike={handleCardLike} onCardDelete={handleCardDelete}\n            onEditProfile={handleEditProfileClick} onAddPlace={handleAddPlaceClick} onEditAvatar={handleEditAvatarClick} onCardClick={handleCardClick} />\n\n          <Route path='/sign-up'>\n            <Register handleRegister={handleRegister} />\n          </Route>\n          <Route path='/sign-in'>\n            <Login handleLogin={handleLogin} />\n          </Route>\n        </Switch>\n\n        <Footer />\n        <InfoTooltip state={registerStatus} isOpened={isInfoTooltipOpened} onClose={closeAllPopups} />\n        <EditAvatarPopup isOpen={isEditAvatarPopupOpen} onClose={closeAllPopups} onUpdateAvatar={handleUpdateAvatar} />\n        <EditProfilePopup isOpen={isEditProfilePopupOpen} onClose={closeAllPopups} onUpdateUser={handleUpdateUser} />\n        <AddPlacePopup onAddPlace={handleAddPlaceSubmit} isOpen={isAddPlacePopupOpen} onClose={closeAllPopups} />\n        <PopupWithForm title=\"Вы уверены?\" name=\"del-card\" submit=\"Да\">\n        </PopupWithForm>\n        <ImagePopup card={selectedCard} onClose={closeAllPopups}></ImagePopup>\n      </CurrentUserContext.Provider>\n    </div>\n  );\n}\n\n\nexport default App;\n","C:\\Users\\Mi\\project\\react-mesto-auth\\react-mesto-auth\\src\\components\\Header.js",[],"C:\\Users\\Mi\\project\\react-mesto-auth\\react-mesto-auth\\src\\components\\Main.js",[],"C:\\Users\\Mi\\project\\react-mesto-auth\\react-mesto-auth\\src\\components\\Footer.js",[],"C:\\Users\\Mi\\project\\react-mesto-auth\\react-mesto-auth\\src\\components\\PopupWithForm.js",[],"C:\\Users\\Mi\\project\\react-mesto-auth\\react-mesto-auth\\src\\components\\ImagePopup.js",[],"C:\\Users\\Mi\\project\\react-mesto-auth\\react-mesto-auth\\src\\components\\EditProfilePopup.js",[],"C:\\Users\\Mi\\project\\react-mesto-auth\\react-mesto-auth\\src\\components\\Register.js",[],"C:\\Users\\Mi\\project\\react-mesto-auth\\react-mesto-auth\\src\\components\\EditAvatarPopup.js",[],"C:\\Users\\Mi\\project\\react-mesto-auth\\react-mesto-auth\\src\\components\\InfoTooltip.js",[],"C:\\Users\\Mi\\project\\react-mesto-auth\\react-mesto-auth\\src\\components\\AddPlacePopup.js",[],"C:\\Users\\Mi\\project\\react-mesto-auth\\react-mesto-auth\\src\\components\\ProtectedRoute.js",[],"C:\\Users\\Mi\\project\\react-mesto-auth\\react-mesto-auth\\src\\components\\Login.js",[],"C:\\Users\\Mi\\project\\react-mesto-auth\\react-mesto-auth\\src\\contexts\\CurrentUserContext.js",[],"C:\\Users\\Mi\\project\\react-mesto-auth\\react-mesto-auth\\src\\utils\\api.js",[],"C:\\Users\\Mi\\project\\react-mesto-auth\\react-mesto-auth\\src\\components\\Card.js",[],{"ruleId":"139","replacedBy":"140"},{"ruleId":"141","replacedBy":"142"},{"ruleId":"139","replacedBy":"143"},{"ruleId":"141","replacedBy":"144"},{"ruleId":"145","severity":1,"message":"146","line":166,"column":3,"nodeType":"147","endLine":178,"endColumn":4},"no-native-reassign",["148"],"no-negated-in-lhs",["149"],["148"],["149"],"react-hooks/exhaustive-deps","The 'handleTokenCheck' function makes the dependencies of useEffect Hook (at line 186) change on every render. Move it inside the useEffect callback. Alternatively, wrap the definition of 'handleTokenCheck' in its own useCallback() Hook.","FunctionDeclaration","no-global-assign","no-unsafe-negation"]